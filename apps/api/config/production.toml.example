# Production configuration for Render deployment

# Server configuration - Render provides these via environment variables
host = "0.0.0.0"
port = 10000
environment = "production"
frontend_url = "https://recommend-a-book-frontend.vercel.app"

# Database configuration - will be overridden by environment variables
# This is a placeholder - actual URL should be set via APP_DATABASE_URL env var
database_url = "postgres://user:password@host:port/database"

# Supabase configuration - set via Render dashboard environment variables
# These will be set via APP_SUPABASE_URL and APP_SUPABASE_KEY env vars
supabase_url = ""
supabase_key = ""

# Pinecone configuration - set via Render dashboard environment variables
# These will be set via APP_PINECONE_API_KEY, APP_PINECONE_ENVIRONMENT, and APP_PINECONE_INDEX env vars
pinecone_api_key = ""
pinecone_environment = ""
pinecone_index = ""

# HuggingFace configuration - optional for production
# This will be set via APP_HUGGINGFACE_API_KEY env var
huggingface_api_key = ""

# Production logging configuration
log_level = "info"

# Production-specific settings
[server]
workers = 2
keep_alive = 75
client_timeout = 5000
client_shutdown = 5000

[cors]
allowed_origins = [
    "https://recommend-a-book-frontend.vercel.app",
    "https://*.vercel.app",
]
allow_credentials = true
max_age = 3600

[ml]
# Model configuration for production
model_cache_dir = "/tmp/huggingface_cache"
max_sequence_length = 512
batch_size = 32
model_precision = "fp16"

[database]
# Connection pool settings for production
max_connections = 10
min_connections = 2
connect_timeout = 30
idle_timeout = 600
